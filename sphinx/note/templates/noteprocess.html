{% extends 'base.html' %}

{% block extendjs %}
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"> </script>
    <script>
       //键盘有触发时，实现表单自动提交
       $("#target").keypress(function(){
            //alert("hello");
            $.ajax({
                type: "POST",
                data: $('#mform').serialize(),
                async:false,
                error:function(request){
                       alert("Connection error!");
                    }
            });
       }); 
    </script>
{% endblock %}

{% block main %}
    <form id="mform" method="POST" name="textform">
        <textarea id="target" type="text" name="myform" style="width:100%;height:30em">
</textarea>  
            <!--这个地方加name属性，是为后台获取数据使用的--> 
        {%csrf_token%}    
    </form>
    <a href="/share/{{mynotepad.sharestr}}">
        <button type="text" class="btn btn-success">分享</button>
    </a>
{% endblock %}
